-- Migration: Initial Schema (Rollback)
-- This migration drops all database objects created by the initial schema migration

-- Drop foreign key constraints and tables
DROP TABLE IF EXISTS public.withdrawals CASCADE;
DROP TABLE IF EXISTS public.wallets CASCADE;
DROP TABLE IF EXISTS public.wallet_transactions CASCADE;
DROP TABLE IF EXISTS public.wallet_balances CASCADE;
DROP TABLE IF EXISTS public.waiting_squad_members CASCADE;
DROP TABLE IF EXISTS public.vpn_detection_logs CASCADE;
DROP TABLE IF EXISTS public.violation_alerts CASCADE;
DROP TABLE IF EXISTS public.users_otp CASCADE;
DROP TABLE IF EXISTS public.users_football_matches CASCADE;
DROP TABLE IF EXISTS public.users_football_matche_rounds CASCADE;
DROP TABLE IF EXISTS public.users CASCADE;
DROP TABLE IF EXISTS public.user_withdrawal_usage CASCADE;
DROP TABLE IF EXISTS public.user_sessions CASCADE;
DROP TABLE IF EXISTS public.user_roles CASCADE;
DROP TABLE IF EXISTS public.user_preferences CASCADE;
DROP TABLE IF EXISTS public.user_notifications CASCADE;
DROP TABLE IF EXISTS public.user_limits CASCADE;
DROP TABLE IF EXISTS public.user_levels CASCADE;
DROP TABLE IF EXISTS public.user_game_access CASCADE;
DROP TABLE IF EXISTS public.user_allowed_pages CASCADE;
DROP TABLE IF EXISTS public.user_activity_log CASCADE;
DROP TABLE IF EXISTS public.user_2fa_settings CASCADE;
DROP TABLE IF EXISTS public.user_2fa_otps CASCADE;
DROP TABLE IF EXISTS public.user_2fa_methods CASCADE;
DROP TABLE IF EXISTS public.user_2fa_attempts CASCADE;
DROP TABLE IF EXISTS public.tucan_game_permissions CASCADE;
DROP TABLE IF EXISTS public.transactions CASCADE;
DROP TABLE IF EXISTS public.tournaments_claims CASCADE;
DROP TABLE IF EXISTS public.tournaments CASCADE;
DROP TABLE IF EXISTS public.tip_transactions CASCADE;
DROP TABLE IF EXISTS public.time_restrictions CASCADE;
DROP TABLE IF EXISTS public.temp CASCADE;
DROP TABLE IF EXISTS public.system_config CASCADE;
DROP TABLE IF EXISTS public.supported_chains CASCADE;
DROP TABLE IF EXISTS public.street_kings CASCADE;
DROP TABLE IF EXISTS public.squads_memebers CASCADE;
DROP TABLE IF EXISTS public.squads_earns CASCADE;
DROP TABLE IF EXISTS public.squads CASCADE;
DROP TABLE IF EXISTS public.sport_bets CASCADE;
DROP TABLE IF EXISTS public.spinning_wheels CASCADE;
DROP TABLE IF EXISTS public.spinning_wheel_rewards CASCADE;
DROP TABLE IF EXISTS public.spinning_wheel_mysteries CASCADE;
DROP TABLE IF EXISTS public.spinning_wheel_configs CASCADE;
DROP TABLE IF EXISTS public.spending_tracking CASCADE;
DROP TABLE IF EXISTS public.spending_limits CASCADE;
DROP TABLE IF EXISTS public.session_tracking CASCADE;
DROP TABLE IF EXISTS public.session_limits CASCADE;
DROP TABLE IF EXISTS public.service_api_keys CASCADE;
DROP TABLE IF EXISTS public.scratch_cards CASCADE;
DROP TABLE IF EXISTS public.schema_migrations CASCADE;
DROP TABLE IF EXISTS public.rounds CASCADE;
DROP TABLE IF EXISTS public.roll_da_dice CASCADE;
DROP TABLE IF EXISTS public.roles CASCADE;
DROP TABLE IF EXISTS public.role_permissions CASCADE;
DROP TABLE IF EXISTS public.role_game_access CASCADE;
DROP TABLE IF EXISTS public.risk_settings CASCADE;
DROP TABLE IF EXISTS public.retryable_operations CASCADE;
DROP TABLE IF EXISTS public.restriction_violations CASCADE;
DROP TABLE IF EXISTS public.rakeback_schedules CASCADE;
DROP TABLE IF EXISTS public.quick_hustles CASCADE;
DROP TABLE IF EXISTS public.public_winner_notifications CASCADE;
DROP TABLE IF EXISTS public.plinko CASCADE;
DROP TABLE IF EXISTS public.player_self_protection_settings CASCADE;
DROP TABLE IF EXISTS public.player_self_protection_activity_logs CASCADE;
DROP TABLE IF EXISTS public.player_gaming_time_tracking CASCADE;
DROP TABLE IF EXISTS public.player_excluded_games CASCADE;
DROP TABLE IF EXISTS public.player_deposit_tracking CASCADE;
DROP TABLE IF EXISTS public.permissions CASCADE;
DROP TABLE IF EXISTS public.passkey_credentials CASCADE;
DROP TABLE IF EXISTS public.pages CASCADE;
DROP TABLE IF EXISTS public.otps CASCADE;
DROP TABLE IF EXISTS public.operational_types CASCADE;
DROP TABLE IF EXISTS public.operational_groups CASCADE;
DROP TABLE IF EXISTS public.monitoring_reports CASCADE;
DROP TABLE IF EXISTS public.message_segments CASCADE;
DROP TABLE IF EXISTS public.message_campaigns CASCADE;
DROP TABLE IF EXISTS public.manual_funds CASCADE;
DROP TABLE IF EXISTS public.lottery_winners_logs CASCADE;
DROP TABLE IF EXISTS public.lottery_services CASCADE;
DROP TABLE IF EXISTS public.lottery_logs CASCADE;
DROP TABLE IF EXISTS public.lotteries CASCADE;
DROP TABLE IF EXISTS public.loot_box_place_bets CASCADE;
DROP TABLE IF EXISTS public.loot_box CASCADE;
DROP TABLE IF EXISTS public.logs CASCADE;
DROP TABLE IF EXISTS public.login_attempts CASCADE;
DROP TABLE IF EXISTS public.levels CASCADE;
DROP TABLE IF EXISTS public.level_requirements CASCADE;
DROP TABLE IF EXISTS public.leagues CASCADE;
DROP TABLE IF EXISTS public.kyc_submissions CASCADE;
DROP TABLE IF EXISTS public.kyc_status_changes CASCADE;
DROP TABLE IF EXISTS public.kyc_settings CASCADE;
DROP TABLE IF EXISTS public.kyc_documents CASCADE;
DROP TABLE IF EXISTS public.ip_filters CASCADE;
DROP TABLE IF EXISTS public.groove_transactions CASCADE;
DROP TABLE IF EXISTS public.groove_game_sessions CASCADE;
DROP TABLE IF EXISTS public.groove_accounts CASCADE;
DROP TABLE IF EXISTS public.global_rakeback_override CASCADE;
DROP TABLE IF EXISTS public.geographic_restrictions CASCADE;
DROP TABLE IF EXISTS public.games CASCADE;
DROP TABLE IF EXISTS public.game_sessions CASCADE;
DROP TABLE IF EXISTS public.game_permissions CASCADE;
DROP TABLE IF EXISTS public.game_logs CASCADE;
DROP TABLE IF EXISTS public.game_house_edges CASCADE;
DROP TABLE IF EXISTS public.game_cashback_rates CASCADE;
DROP TABLE IF EXISTS public.game_access_templates CASCADE;
DROP TABLE IF EXISTS public.game_access_logs CASCADE;
DROP TABLE IF EXISTS public.game_access_config CASCADE;
DROP TABLE IF EXISTS public.football_matchs CASCADE;
DROP TABLE IF EXISTS public.football_match_rounds CASCADE;
DROP TABLE IF EXISTS public.falcon_liquidity_messages CASCADE;
DROP TABLE IF EXISTS public.failed_bet_logs CASCADE;
DROP TABLE IF EXISTS public.exchange_rates CASCADE;
DROP TABLE IF EXISTS public.emergency_access_overrides CASCADE;
DROP TABLE IF EXISTS public.deposit_sessions CASCADE;
DROP TABLE IF EXISTS public.deposit_event_records CASCADE;
DROP TABLE IF EXISTS public.departments CASCADE;
DROP TABLE IF EXISTS public.departements_users CASCADE;
DROP TABLE IF EXISTS public.currency_config CASCADE;
DROP TABLE IF EXISTS public.currencies CASCADE;
DROP TABLE IF EXISTS public.crypto_wallet_connections CASCADE;
DROP TABLE IF EXISTS public.crypto_wallet_challenges CASCADE;
DROP TABLE IF EXISTS public.crypto_wallet_auth_logs CASCADE;
DROP TABLE IF EXISTS public.crypto_kings CASCADE;
DROP TABLE IF EXISTS public.conversion_remainders CASCADE;
DROP TABLE IF EXISTS public.configs CASCADE;
DROP TABLE IF EXISTS public.company CASCADE;
DROP TABLE IF EXISTS public.clubs CASCADE;
DROP TABLE IF EXISTS public.chain_processing_state CASCADE;
DROP TABLE IF EXISTS public.chain_currencies CASCADE;
DROP TABLE IF EXISTS public.cashback_tiers CASCADE;
DROP TABLE IF EXISTS public.cashback_earnings CASCADE;
DROP TABLE IF EXISTS public.cashback_claims CASCADE;
DROP TABLE IF EXISTS public.casbin_rule CASCADE;
DROP TABLE IF EXISTS public.campaign_recipients CASCADE;
DROP TABLE IF EXISTS public.brands CASCADE;
DROP TABLE IF EXISTS public.bets CASCADE;
DROP TABLE IF EXISTS public.banners CASCADE;
DROP TABLE IF EXISTS public.balances CASCADE;
DROP TABLE IF EXISTS public.balance_logs CASCADE;
DROP TABLE IF EXISTS public.audit_logs CASCADE;
DROP TABLE IF EXISTS public.alert_triggers CASCADE;
DROP TABLE IF EXISTS public.alert_rules CASCADE;
DROP TABLE IF EXISTS public.alert_email_groups CASCADE;
DROP TABLE IF EXISTS public.alert_email_group_members CASCADE;
DROP TABLE IF EXISTS public.alert_configurations CASCADE;
DROP TABLE IF EXISTS public.alchemy_webhooks CASCADE;
DROP TABLE IF EXISTS public.airtime_utilities CASCADE;
DROP TABLE IF EXISTS public.airtime_transactions CASCADE;
DROP TABLE IF EXISTS public.agent_referrals CASCADE;
DROP TABLE IF EXISTS public.agent_providers CASCADE;
DROP TABLE IF EXISTS public.affiliate_referal_track CASCADE;
DROP TABLE IF EXISTS public.admin_fund_movements CASCADE;
DROP TABLE IF EXISTS public.admin_activity_logs CASCADE;
DROP TABLE IF EXISTS public.admin_activity_categories CASCADE;
DROP TABLE IF EXISTS public.admin_activity_actions CASCADE;
DROP TABLE IF EXISTS public.adds_services CASCADE;
DROP TABLE IF EXISTS public.active_game_sessions CASCADE;
DROP TABLE IF EXISTS public.account_block CASCADE;

-- Drop functions
DROP FUNCTION IF EXISTS public.update_user_level_stats CASCADE;
DROP FUNCTION IF EXISTS public.update_updated_at_column CASCADE;
DROP FUNCTION IF EXISTS public.update_tip_transactions_updated_at CASCADE;
DROP FUNCTION IF EXISTS public.update_groove_accounts_updated_at CASCADE;
DROP FUNCTION IF EXISTS public.update_game_session_activity CASCADE;
DROP FUNCTION IF EXISTS public.update_crypto_wallet_connections_updated_at CASCADE;
DROP FUNCTION IF EXISTS public.update_alert_email_groups_updated_at CASCADE;
DROP FUNCTION IF EXISTS public.update_admin_activity_logs_updated_at CASCADE;
DROP FUNCTION IF EXISTS public.log_kyc_status_change CASCADE;
DROP FUNCTION IF EXISTS public.get_user_wallets CASCADE;
DROP FUNCTION IF EXISTS public.get_groove_account_summary CASCADE;
DROP FUNCTION IF EXISTS public.generate_groove_session_id CASCADE;
DROP FUNCTION IF EXISTS public.delete_account_block_on_active CASCADE;
DROP FUNCTION IF EXISTS public.create_user_balances CASCADE;
DROP FUNCTION IF EXISTS public.cleanup_expired_groove_sessions CASCADE;
DROP FUNCTION IF EXISTS public.clean_expired_crypto_wallet_challenges CASCADE;
DROP FUNCTION IF EXISTS public.check_kyc_requirement CASCADE;
DROP FUNCTION IF EXISTS public.check_and_update_user_level CASCADE;

-- Drop custom types
DROP TYPE IF EXISTS public.withdrawal_status CASCADE;
DROP TYPE IF EXISTS public.wallet_transaction_status CASCADE;
DROP TYPE IF EXISTS public.to_cold_storage_movement_status CASCADE;
DROP TYPE IF EXISTS public.spinningwheeltypes CASCADE;
DROP TYPE IF EXISTS public.spinningwheelmysterytypes CASCADE;
DROP TYPE IF EXISTS public.processortype CASCADE;
DROP TYPE IF EXISTS public.notification_type CASCADE;
DROP TYPE IF EXISTS public.deposit_session_status CASCADE;
DROP TYPE IF EXISTS public.currency_type CASCADE;
DROP TYPE IF EXISTS public.conversion_type CASCADE;
DROP TYPE IF EXISTS public.components CASCADE;
DROP TYPE IF EXISTS public.bet_status CASCADE;
DROP TYPE IF EXISTS public.alert_type CASCADE;
DROP TYPE IF EXISTS public.alert_status CASCADE;
DROP TYPE IF EXISTS public.alert_currency_code CASCADE;

-- Drop extensions
DROP EXTENSION IF EXISTS "uuid-ossp" CASCADE;
DROP EXTENSION IF EXISTS pgcrypto CASCADE;
